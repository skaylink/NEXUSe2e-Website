<!DOCTYPE html>

<html xml:lang="en" lang="en" class="no-js">

<head>
    <!--[if IE]>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=IE7"/>
    <![endif]-->
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <link rel="shortcut icon" type="image/x-icon" href="../../../resources/templating-kit/themes/NEXUSe2e-website/img/logo.png">

    <meta name="keywords" content="log4j2"/>
    <meta name="description" content=""/>
    <meta name="author" content=""/>
    <meta name="robots" content="all"/>

    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>

    <meta name="generator" content="Powered by Magnolia - Intuitive Opensource CMS"/>

    <title>Home - Logging with Log4j 2</title>

    <link rel="stylesheet" type="text/css"
          href="../../../resources/templating-kit/themes/NEXUSe2e-website/css/nexuse2e.css" media=""/>

    <!--[if ! lte IE 6]><!-->
    <script>
        //global information for the javascripts
        window.magnoliaFrontendData = {
            themePath: "/resources/templating-kit/",
            contextPath: "",
            isEdit: false,
            texts: {
                lightbox: {
                    close: "close lightbox",
                    next: "next picture"
                },
                close: "close"
            },
            cfg: {}
        };
    </script>
    <script src="../../../resources/templating-kit/themes/NEXUSe2e-website/js/jquery-1.10.2.min.js"
            type="text/javascript"></script>
    <script src="../../../resources/templating-kit/themes/NEXUSe2e-website/js/nexuse2e.js"
            type="text/javascript"></script>
    <!--<![endif]-->
</head>

<body id="article">

<div id="wrapper">
    <div id="branding" role="banner">
        <div id="branding-box">
            <p class="skip">
                <a href="log4j2.html#main">Main Content</a>
            </p>

            <div id="logo">
                <a href="../../Home.html" title="Homepage">
                    <strong>Home</strong>

                    <span></span>
                </a>
            </div><!-- end logo -->

            <div id="nav-meta">
                <ul>
                </ul>
            </div><!-- end nav-meta -->
        </div><!-- end branding-box -->
    </div><!-- end branding -->

    <div id="nav-global" role="navigation">
        <div id="nav-global-box">
            <h6>Navigation</h6>
            <ul>
                <li id="nav-sec-news">
                    <a href="../../Home.html"><span>Home</span></a>
                </li>

                <li id="nav-sec-product">
                    <a href="../../Product.html"><span>Product</span></a>
                </li>

                <li id="nav-sec-service">
                    <a href="../../Service.html"><span>Service</span></a>
                </li>

                <li id="nav-sec-documentation" class="on">
                    <a href="../../Documentation.html"> <span><em>You are here: </em>Documentation</span> </a>
                </li>

                <li id="nav-sec-downloads">
                    <a href="../../Downloads.html"><span>Downloads</span></a>
                </li>
            </ul>
        </div><!-- end nav-global-box -->
    </div><!-- end nav-global -->

    <div id="wrapper-2">
        <div id="nav">
            <div id="nav-box" role="navigation">
                <h6>Sub-navigation</h6>
                <ul>
                    <li>
                        <a href="../Installation.html">Installation</a>
                    </li>
                    <li>
                        <a href="../Upgrade.html">Upgrade</a>
                    </li>

                    <li class="open">
                        <a href="../Configuration.html">Configuration</a>
                        <ul>
                            <li>
                                <a href="How-to-Alter-the-NEXUSe2e-URL.html">How to Alter the NEXUSe2e URL</a>
                            </li>

                            <li>
                                <a href="Integrated-Authentication-with-MSSQL.html">Integrated Authentication with MSSQL</a>
                            </li>

                            <li>
                                <a href="Windows-Service.html">Windows Service</a>
                            </li>

                            <li>
                                <a href="NEXUSe2e-Backend-Integration.html">NEXUSe2e Backend Integration</a>
                            </li>

                            <li>
                                <a href="XSD_Schema_Validation.html">XSD - Schema Validation</a>
                            </li>

                            <li class="on">
                                <strong> <span><em>You are here:</em>Logging with Log4j 2</span> </strong>
                            </li>
                        </ul>
                    </li>

                    <li>
                        <a href="../Security.html">Security</a>
                    </li>

                    <li>
                        <a href="../Messaging.html">Messaging</a>
                    </li>
                </ul>
            </div><!-- end nav-box -->
        </div><!-- end nav -->

        <div id="wrapper-3">
            <div id="main" role="main">
                <div id="breadcrumb">
                    <h5>You are here:</h5>
                    <ol>
                        <li><a href="../../Home.html">Home</a></li>
                        <li><a href="../../Documentation.html">Documentation</a></li>
                        <li><a href="../Configuration.html">Configuration</a></li>
                        <li><strong>Logging with Log4j 2</strong></li>
                    </ol>
                </div><!-- end breadcrumb -->
                <div class="text" role="article">
                    <h1>
                        Logging with Log4j 2
                    </h1>

                    <div class="text-section">
                        <p>Logging in NEXUSe2e is implemented using Log4j 2 (starting with NEXUSe2e version 5.11.1).</p>

                        <p>
                            All logging is configured via the log4j2.xml file located in the \WEB-INF\classes\ folder,
                            including database and email logging that was configured through the Notifiers section in the ui of previous NEXUSe2e verions.
                        </p>

                        <p>
                            Other than the database logging appender, all logging uses out-of-the-box log4j2 appenders and any Log4j 2 appender can be added.
                            For more configuration options visit the <a href="https://logging.apache.org/log4j/2.x/manual/configuration.html#Appenders">Apache Log4j 2 website</a>.
                        </p>
                    </div>

                    <div class="text-section">
                        <p><strong>Transaction Reporting and Engine Log</strong></p>
                        <p>
                            A custom database logging appender is responsible for logging information to the the NEXUSe2e database for the <strong>Transaction Reporting and Engine Log</strong> sections of the ui.
                            Locate the &lt;DatabaseLogger name="DatabaseLogger_default"> section in log4j2.xml to set the log level (Default: 'info').
                            Standard Log4j 2 log levels can be applied.
                            With log4j 2 the log level ids were changed from log4j 1.
                            Therefore log levels from logging entries from previous NEXUSe2e version (5.9.x and earlier) cannot be properly identified for display or filtering.
                            To fix older log entries, the following sql commands can be executed against the NEXUSe2e database:
                            </br>
                            </br>UPDATE [nx_log] SET [severity] = 100 WHERE [severity] = 50000
                            </br>UPDATE [nx_log] SET [severity] = 200 WHERE [severity] = 40000
                            </br>UPDATE [nx_log] SET [severity] = 300 WHERE [severity] = 30000
                            </br>UPDATE [nx_log] SET [severity] = 400 WHERE [severity] = 20000
                            </br>UPDATE [nx_log] SET [severity] = 500 WHERE [severity] = 10000
                            </br>UPDATE [nx_log] SET [severity] = 600 WHERE [severity] = 5000
                        </p>
                    </div>

                    <div class="text-section">
                        <p><strong>File Logging</strong></p>
                        <p>
                            By default the RollingFileAppender is configured and enabled to create <strong>log files</strong> with mostly info level log information.
                            A maximum of 10 log files are kept for up to 30 days.
                        </p>
                    </div>

                    <div class="text-section">
                        <p><strong>E-Mail Notifications</strong></p>
                        <p>
                            To receive <strong>E-Mail Notifications</strong> complete SMTP appender configuration and enable it by commenting in the
                            &lt;AppenderRef ref="Mail"/> line in the Root logger section.
                        </p>
                    </div>
                </div><!-- end text -->
            </div><!-- end main -->

            <div id="extras" role="complementary">
            </div>
        </div><!-- end wrapper-3 -->

        <div id="promos">
        </div><!-- end promos -->
    </div><!-- end wrapper-2 -->

    <div id="site-info">
        <div id="site-info-box">
            <div>
                <ul>
                    <li>
                        <a href="../../Services/Contact.html">Contact</a>
                    </li>

                    <li>
                        <a href="../../Services/Legal-Notices-Impressum.html">Legal Notices / Impressum</a>
                    </li>
                </ul>
            </div>

            <p id="copyright"></p>

            <!-- <p id="copyright-magnolia"><span>Powered by</span> <a href="http://www.magnolia-cms.com"><strong>Magnolia</strong> - Intuitive CMS System</a></p> -->
        </div><!-- end site-info-box -->
    </div><!-- end site-info -->
</div><!-- end wrapper -->

</body>
</html>
