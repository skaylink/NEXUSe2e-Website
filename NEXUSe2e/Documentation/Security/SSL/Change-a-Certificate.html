<!DOCTYPE html>

<html xml:lang="en" lang="en" class="no-js">

<head>
    <!--[if IE]>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=IE7"/>
    <![endif]-->
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <link rel="shortcut icon" type="image/x-icon" href="../../../../resources/templating-kit/themes/NEXUSe2e-website/img/logo.png">

    <meta name="keywords" content="Change a Certificate"/>
    <meta name="description" content=""/>
    <meta name="author" content=""/>
    <meta name="robots" content="all"/>

    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>

    <meta name="generator" content="Powered by Magnolia - Intuitive Website CMS"/>

    <title>Home - Change a Certificate</title>

    <link rel="stylesheet" type="text/css"
          href="../../../../resources/templating-kit/themes/NEXUSe2e-website/css/nexuse2e.css" media=""/>

    <!--[if ! lte IE 6]><!-->
    <script>
        //global information for the javascripts
        window.magnoliaFrontendData = {
            themePath: "/resources/templating-kit/",
            contextPath: "",
            isEdit: false,
            texts: {
                lightbox: {
                    close: "close lightbox",
                    next: "next picture"
                },
                close: "close"
            },
            cfg: {}
        };
    </script>
    <script src="../../../../resources/templating-kit/themes/NEXUSe2e-website/js/jquery-1.10.2.min.js"
            type="text/javascript"></script>
    <script src="../../../../resources/templating-kit/themes/NEXUSe2e-website/js/nexuse2e.js"
            type="text/javascript"></script>
    <!--<![endif]-->
</head>

<body id="article">

<div id="wrapper">
    <div id="branding" role="banner">
        <div id="branding-box">
            <p class="skip">
                <a href="Change-a-Certificate.html#main">Main Content</a>
            </p>

            <div id="logo">
                <a href="../../../../NEXUSe2e.html" title="Homepage">
                    <strong>Home</strong>

                    <span></span>
                </a>
            </div><!-- end logo -->

            <div id="nav-meta">
                <ul>
                </ul>
            </div><!-- end nav-meta -->
        </div><!-- end branding-box -->
    </div><!-- end branding -->

    <div id="nav-global" role="navigation">
        <div id="nav-global-box">
            <h6>Navigation</h6>
            <ul>
                <li id="nav-sec-news">
                    <a href="../../../News.html"><span>News</span></a>
                </li>

                <li id="nav-sec-product">
                    <a href="../../../Product.html"><span>Product</span></a>
                </li>

                <li id="nav-sec-service">
                    <a href="../../../Service.html"><span>Service</span></a>
                </li>

                <li id="nav-sec-documentation" class="on">
                    <a href="../../../Documentation.html"> <span><em>You are here: </em>Documentation</span></a>
                </li>

                <li id="nav-sec-downloads">
                    <a href="../../../Downloads.html"><span>Downloads</span></a>
                </li>
            </ul>
        </div><!-- end nav-global-box -->
    </div><!-- end nav-global -->

    <div id="wrapper-2">

        <div id="nav">
            <div id="nav-box" role="navigation">
                <h6>Sub-navigation</h6>
                <ul>
                    <li>
                        <a href="../../Installation.html">Installation</a>
                    </li>

                    <li>
                        <a href="../../Upgrade.html">Upgrade</a>
                    </li>

                    <li>
                        <a href="../../Configuration.html">Configuration</a>
                    </li>

                    <li class="open">
                        <a href="../../Security.html">Security</a>
                        <ul>
                            <li>
                                <a href="../Client-Authentication.html">Client Authentication</a>
                            </li>

                            <li>
                                <a href="../Secure-Web-Service.html">Configure a secure web service endpoint</a>
                            </li>

                            <li class="on">
                                <a href="../SSL.html"> <span><em>You are here:</em>SSL</span></a>
                            </li>
                        </ul>
                    </li>

                    <li>
                        <a href="../../Messaging.html">Messaging</a>
                    </li>
                </ul>
            </div><!-- end nav-box -->
        </div><!-- end nav -->

        <div id="wrapper-3">
            <div id="main" role="main">
                <div id="breadcrumb">
                    <h5>You are here:</h5>
                    <ol>
                        <li><a href="../../../../NEXUSe2e.html">Home</a></li>
                        <li><a href="../../../Documentation.html">Documentation</a></li>
                        <li><a href="../../Security.html">Security</a></li>
                        <li><a href="../SSL.html">SSL</a></li>
                        <li><strong>Change a Certificate</strong></li>
                    </ol>
                </div><!-- end breadcrumb -->
                <div class="text" role="article">
                    <h1>
                        Change a Certificate
                    </h1>

                    <div class="text-section">
                        <p><strong>Creating or updating a local SSL certificate</strong></p>

                        <p>If you assembled a certificate and key pair using the NEXUSe2e CSR process, you can skip this
                            section, since you certificate is already present in the <em>Certificate Staging</em> area.
                        </p>

                        <p>Otherwise, import the certificate into that area. Navigate to <em>NEXUSe2e &gt; Server
                            Configuration &gt; Certificates &gt; Certificate Staging</em> and select <em>Import
                            Certificate</em>.</p>

                        <p>Select the certificate file to import and supply the necessary password. Bear in mind that
                            the certificate needs to include a private key and has to be in PKCS#12 format, typically
                            indicated by a .p12 or .pfx file extension.</p>

                        <p><strong>Inform your collaboration partners</strong></p>

                        <p>Once your certificate has been imported and the certificate update is scheduled, you need to
                            inform your collaboration partners so they can configure your new certificate.</p>

                        <p>Go to <em>NEXUSe2e &gt; Server Configuration &gt; Certificates &gt; Certificate Staging</em>,
                            select your new certificate and click on <em>Export this Certificate</em>.</p>

                        <p>Select <em>ZIP file</em> from the <em>Elements</em> section and leave all other options
                            unchanged. Click on <em>Save</em> to store the exported file on your computer.</p>

                        <p>Send the ZIP file to your collaboration partners.</p>

                        <p><strong>Switching to the new certificate</strong></p>

                        <p>When the scheduled certificate switching date has come, you can promote it as an update to
                            your existing certificate or as a new certificate. Promoting it as a new certificate will
                            have no effect on existing partner connections, whereas replacing the certificate will also
                            update all partner connections that are using the certificate to be replaced.</p>

                        <p>Go to <em>NEXUSe2e &gt; Server Configuration &gt; Certificates &gt; Certificate Staging</em>,
                            select your new certificate and click on it to show its details.</p>

                        <p>On the detail screen, select your local server ID from the first drop-down and replacing or
                            <em>as new certificate</em> from the second drop-down menu. Note that you will be shown the
                            name of your current certificate if you want to replace it. Take extra care to double-check
                            that you are replacing the correct one.</p>

                        <p>Finally, click <em>Promote Certificate</em> and apply the configuration.</p>

                        <p>Bear in mind that you still have to replace the certificate of the underlying Servlet
                            Container, as given below for Apache Tomcat.</p>

                        <p><strong>Securing the server</strong></p>

                        <p>In addition to configuring the NEXUSe2e application with the new certificate, the underlying
                            Web application server needs to be configured with it as well, because it is responsible for
                            handling inbound requests.</p>

                        <p>To do this, go to the Tomcat home directory, then open file server.xml from subdirectory conf
                            in a text editor. Find the SSL connector (port *443). It looks something like this:</p>
                    </div>

                    <blockquote>
                        <p>&lt;Connector port=&quot;443&quot; ...<br/>
                            &nbsp;&nbsp;keystoreFile=&quot;/path/to/my/cert.p12&quot;<br/>
                            &nbsp;&nbsp;keystoreType=&quot;PKCS12&quot;<br/>
                            &nbsp;&nbsp;keystorePass=&quot;password&quot;<br/>
                            &nbsp;&nbsp;.../&gt;</p>
                    </blockquote>

                    <div class="text-section">
                        <p>Now, replace the keystore file in the file system with your new test certificate PKCS#12 file
                            or put the file somewhere else and make sure the keystoreFile attribute points to the
                            correct path.</p>

                        <p>Change the keystorePass attribute to contain the correct password for the .p12 file and save
                            the server.xml file. Finally, restart the NEXUSe2e service to apply the new certificate
                            configuration.</p>

                        <p>For more details on this configuration process, refer to the Tomcat manual located at <a
                                href="http://tomcat.apache.org/tomcat-7.0-doc/ssl-howto.html" target="_blank">http://tomcat.apache.org/tomcat-7.0-doc/ssl-howto.html</a>.
                        </p>
                    </div>
                </div><!-- end text -->
            </div><!-- end main -->

            <div id="extras" role="complementary">
            </div>
        </div><!-- end wrapper-3 -->

        <div id="promos">
        </div><!-- end promos -->
    </div><!-- end wrapper-2 -->

    <div id="site-info">
        <div id="site-info-box">
            <div>
                <ul>
                    <li>
                        <a href="../../../Services/Contact.html">Contact</a>
                    </li>

                    <li>
                        <a href="../../../Services/Legal-Notices-Impressum.html">Legal Notices / Impressum</a>
                    </li>
                </ul>
            </div>

            <p id="copyright"></p>

            <!-- <p id="copyright-magnolia"><span>Powered by</span> <a href="http://www.magnolia-cms.com"><strong>Magnolia</strong> - Intuitive Website CMS</a></p> -->
        </div><!-- end site-info-box -->
    </div><!-- end site-info -->
</div><!-- end wrapper -->

</body>
</html>
