<!DOCTYPE html>

<html xml:lang="en" lang="en" class="no-js">

<head>
   <!--[if IE]>
   <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=IE7" />
   <![endif]-->
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>

<meta name="keywords" content="SSL Problem After Upgrading to Java 7" />
<meta name="description" content="" />
<meta name="author" content="" />
<meta name="robots" content="all" />

<meta name="viewport" content="width=device-width, initial-scale=1.0" />


<meta name="generator" content="Powered by Magnolia - intuitive Content Management Software" />

<title>Home - SSL Problem After Upgrading to Java 7</title>


    <link rel="stylesheet" type="text/css" href="../../../../resources/templating-kit/themes/NEXUSe2e-website/css/nexuse2e.css" media="" />

<!--[if ! lte IE 6]><!-->
        <script>
            //global information for the javascripts
            window.magnoliaFrontendData = {
                themePath: "/resources/templating-kit/",
                contextPath: "",
                isEdit: false,
                texts: {
                    lightbox: {
                        close: "close lightbox",
                        next: "next picture"
                    },
                    close: "close"
                },
                cfg: {

                }
            };
        </script>
    <script src="../../../../resources/templating-kit/themes/NEXUSe2e-website/js/jquery-1.10.2.min.js" type="text/javascript"></script>
    <script src="../../../../resources/templating-kit/themes/NEXUSe2e-website/js/nexuse2e.js" type="text/javascript"></script>


<!--<![endif]-->
</head>



<body id="article" >

    <div id="wrapper">


<div id="branding" role="banner">
    <div id="branding-box">
        <p class="skip">
           <a href="SSL-Problem-after-upgrading-to-Java-7.html#main">Main Content</a>
        </p>

<div id="logo">
    <a href="../../../../NEXUSe2e.html" title="Homepage">
        
        <strong>Home</strong>
        
        <span></span>
    </a>
</div><!-- end logo -->

<div id="search-box">
    <h6>Search</h6>
    <form action="../../../Services/SearchResults.html" >
    <div>
        <label for="searchbar">Search For</label>
        <input required="required" id="searchbar" name="queryStr" type="text" value="" />
        <input class="button" type="submit" value="Search" />
    </div>
    </form>
</div><!-- end search-box -->

<div id="nav-meta">
    <ul>
            </ul>
</div><!-- end nav-meta -->
    </div><!-- end branding-box -->
</div><!-- end branding -->


    <div id="nav-global"  role="navigation">
        <div id="nav-global-box">
            <h6>Navigation</h6>
      <ul>



              <li id="nav-sec-news">
                      <a href="../../../News.html"><span>News</span></a>

              </li>



              <li id="nav-sec-product">
                      <a href="../../../Product.html"><span>Product</span></a>

              </li>



              <li id="nav-sec-service">
                      <a href="../../../Service.html"><span>Service</span></a>

              </li>



              <li id="nav-sec-documentation" class="on">
                          <a href="../../../Documentation.html">                         <span><em>You are here: </em>Documentation</span>
</a>

              </li>



              <li id="nav-sec-downloads">
                      <a href="../../../Downloads.html"><span>Downloads</span></a>

              </li>
      </ul>
        </div><!-- end nav-global-box -->
    </div><!-- end nav-global -->




        <div id="wrapper-2">


    <div id="nav">
        <div id="nav-box" role="navigation">
            <h6>Sub-navigation</h6>
        <ul>

            <li>
                    <a href="../../Installation.html">Installation</a>
            </li>

            <li>
                    <a href="../../Upgrade.html">Upgrade</a>
            </li>

            <li>
                    <a href="../../Configuration.html">Configuration</a>
            </li>

            <li class="open">
                    <a href="../../Security.html">Security</a>
        <ul>

            <li>
                    <a href="../Client-Authentication.html">Client Authentication</a>
            </li>

            <li>
                    <a href="../Secure-Web-Service.html">Configure a secure web service endpoint</a>
            </li>

            <li class="on">
                        <a href="../SSL.html">                        <span><em>You are here:</em>SSL</span>
</a>
            </li>
        </ul>
            </li>

            <li>
                    <a href="../../Messaging.html">Messaging</a>
            </li>
        </ul>
        </div><!-- end nav-box -->
    </div><!-- end nav -->


            <div id="wrapper-3">


<div id="main" role="main">

    
<div id="breadcrumb">
    <h5>You are here:</h5>
    <ol>
              <li><a href="../../../../NEXUSe2e.html">Home</a></li>
              <li><a href="../../../Documentation.html">Documentation</a></li>
              <li><a href="../../Security.html">Security</a></li>
              <li><a href="../SSL.html">SSL</a></li>
              <li><strong>SSL Problem After Upgrading to Java 7</strong></li>
    </ol>
</div><!-- end breadcrumb -->
    <div class="text" role="article">

    <h1>
        
        SSL Problem After Upgrading to Java 7
    </h1>












<div class="text-section">
    


        <p>After you upgraded NEXUSe2e to a newer Version which requires Java 7 and encounter the following error message while receiving messages from partners who still use Java 5 you may want to follow the instructions described below.</p>

</div>

    <blockquote>
        <p>Message submission failed: javax.net.ssl.SSLHandshakeException: Received fatal alert: handshake_failure</p>

    </blockquote>






<div class="text-section">
    <h2 >Root Cause</h2>


        <p>As the&nbsp;<a class="external-link" href="http://docs.oracle.com/javase/7/docs/technotes/guides/security/SunProviders.html#SunJSSEProvider" rel="nofollow" style="color: rgb(50, 108, 166); text-decoration: none; font-family: Arial, sans-serif; font-size: 14px; line-height: 20px;">Java doc for the JSSE provider shows</a>, some SSL ciphers have been deprecated in Java 7 due to security vulnerabilities. This led to a slight change in default-enabled protocols and ciphers, which can result in this issue.</p>

</div>






<div class="text-section">
    <h2 >Solution</h2>


</div>

    <blockquote>
        <p><strong>Security Hint:</strong></p>

<p>Be advised that enabling deprecated SSL protocols will set you at risk.</p>

    </blockquote>






<div class="text-section">
    


        <p><strong>Inbound Messages</strong></p>

<p>To alleviate the issue, modify the tomcat connector for NEXUSe2e and add&nbsp;sslEnabledProtocols=&quot;TLSv1,TLSv1.1,TLSv1.2,SSLv2Hello&quot;&nbsp;to it. This manually enables SSLv2hello pseudo-protocol, which will result in messages being received again.</p>

</div>

    <blockquote>
        <p>&lt;Connector port=&quot;8443&quot; protocol=&quot;HTTP/1.1&quot; SSLEnabled=&quot;true&quot;<br />
&nbsp;&nbsp; &nbsp;maxThreads=&quot;150&quot; scheme=&quot;https&quot; secure=&quot;true&quot;<br />
&nbsp;&nbsp; &nbsp;sslEnabledProtocols=&quot;TLSv1,TLSv1.1,TLSv1.2,SSLv2Hello&quot;<br />
&nbsp;&nbsp; &nbsp;clientAuth=&quot;false&quot; sslProtocol=&quot;TLS&quot; /&gt;</p>

    </blockquote>






<div class="text-section">
    


        <p><strong>Outbound Messages</strong></p>

<ul>
	<li>Stop NEXUSe2e.</li>
	<li>Check your Windows Services panel for the name of the NEXUSe2e service. *</li>
	<li>In your Tomcat directory, go to subdirectory bin. There, you should find a file called &lt;SERVICE_NAME&gt;w.exe. For example, if the service name is NEXUSe2e, the file name is NEXUSe2ew.exe.</li>
	<li>Open that .exe file (Admin rights required).</li>
	<li>In the tab &quot;Java&quot;, add -Dhttps.protocols=TLSv1,SSLv3,SSLv2Hello to the &quot;Java Options&quot; text box. Note that there may be no spaces in between.</li>
	<li>Start NEXUSe2e and test the connection again.</li>
</ul>

</div>

    <blockquote>
        <p><em><strong>* </strong>If you are not familiar with administrating a Windows Tomcat Service, find some help <a href="../../Configuration/Windows-Service.html">here</a>.</em></p>

    </blockquote>
    </div><!-- end text -->
</div><!-- end main -->

<div id="extras" role="complementary">
    

</div>

            </div><!-- end wrapper-3 -->


<div id="promos">
    </div><!-- end promos -->


        </div><!-- end wrapper-2 -->



<div id="site-info">
    <div id="site-info-box">
        
<div>
    
<ul>
    
    <li >
            <a href="../../../Services/Contact.html">Contact</a>
    </li>

    <li >
            <a href="../../../Services/Legal-Notices-Impressum.html">Legal Notices / Impressum</a>
    </li>
</ul>
</div>

            <p id="copyright"> </p>

        <!-- <p id="copyright-magnolia"><span>Powered by</span> <a href="http://www.magnolia-cms.com"><strong>Magnolia</strong> - Open-Source Java Content Management</a></p> -->
    </div><!-- end site-info-box -->
</div><!-- end site-info -->

    </div><!-- end wrapper -->

</body>
</html>
