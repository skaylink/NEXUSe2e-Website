<!DOCTYPE html>

<html xml:lang="en" lang="en" class="no-js">

<head>
    <!--[if IE]>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=IE7"/>
    <![endif]-->
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <link rel="shortcut icon" type="image/x-icon" href="../../../resources/templating-kit/themes/NEXUSe2e-website/img/logo.png">

    <meta name="keywords" content="NEXUSe2e from 4.x to 4.x"/>
    <meta name="description" content=""/>
    <meta name="author" content=""/>
    <meta name="robots" content="all"/>

    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>

    <meta name="generator" content="Powered by Magnolia - Intuitive Content Management Solutions"/>

    <title>Home - NEXUSe2e from 4.x to 4.x</title>

    <link rel="stylesheet" type="text/css"
          href="../../../resources/templating-kit/themes/NEXUSe2e-website/css/nexuse2e.css" media=""/>

    <!--[if ! lte IE 6]><!-->
    <script>
        //global information for the javascripts
        window.magnoliaFrontendData = {
            themePath: "/resources/templating-kit/",
            contextPath: "",
            isEdit: false,
            texts: {
                lightbox: {
                    close: "close lightbox",
                    next: "next picture"
                },
                close: "close"
            },
            cfg: {}
        };
    </script>
    <script src="../../../resources/templating-kit/themes/NEXUSe2e-website/js/jquery-1.10.2.min.js"
            type="text/javascript"></script>
    <script src="../../../resources/templating-kit/themes/NEXUSe2e-website/js/nexuse2e.js"
            type="text/javascript"></script>
    <!--<![endif]-->
</head>

<body id="article">

<div id="wrapper">
    <div id="branding" role="banner">
        <div id="branding-box">
            <p class="skip">
                <a href="NEXUSe2e-from-4.x-to-4.x.html#main">Main Content</a>
            </p>

            <div id="logo">
                <a href="../../Home.html" title="Homepage">

                    <strong>Home</strong>

                    <span></span>
                </a>
            </div><!-- end logo -->

            <div id="nav-meta">
                <ul>
                </ul>
            </div><!-- end nav-meta -->
        </div><!-- end branding-box -->
    </div><!-- end branding -->

    <div id="nav-global" role="navigation">
        <div id="nav-global-box">
            <h6>Navigation</h6>
            <ul>
                <li id="nav-sec-news">
                    <a href="../../Home.html"><span>Home</span></a>
                </li>

                <li id="nav-sec-product">
                    <a href="../../Product.html"><span>Product</span></a>
                </li>

                <li id="nav-sec-service">
                    <a href="../../Service.html"><span>Service</span></a>
                </li>

                <li id="nav-sec-documentation" class="on">
                    <a href="../../Documentation.html"> <span><em>You are here: </em>Documentation</span></a>
                </li>

                <li id="nav-sec-downloads">
                    <a href="../../Downloads.html"><span>Downloads</span></a>
                </li>
            </ul>
        </div><!-- end nav-global-box -->
    </div><!-- end nav-global -->

    <div id="wrapper-2">
        <div id="nav">
            <div id="nav-box" role="navigation">
                <h6>Sub-navigation</h6>
                <ul>
                    <li>
                        <a href="../Installation.html">Installation</a>
                    </li>

                    <li class="open">
                        <a href="../Upgrade.html">Upgrade</a>
                        <ul>
                            <li>
                                <a href="Upgrade-Checklist.html">Upgrade Checklist</a>
                            </li>

                            <li class="on">
                                <strong> <span><em>You are here:</em>NEXUSe2e from 4.x to 4.x</span> </strong>
                            </li>
                        </ul>
                    </li>

                    <li>
                        <a href="../Configuration.html">Configuration</a>
                    </li>

                    <li>
                        <a href="../Security.html">Security</a>
                    </li>

                    <li>
                        <a href="../Messaging.html">Messaging</a>
                    </li>
                </ul>
            </div><!-- end nav-box -->
        </div><!-- end nav -->

        <div id="wrapper-3">
            <div id="main" role="main">
                <div id="breadcrumb">
                    <h5>You are here:</h5>
                    <ol>
                        <li><a href="../../Home.html">Home</a></li>
                        <li><a href="../../Documentation.html">Documentation</a></li>
                        <li><a href="../Upgrade.html">Upgrade</a></li>
                        <li><strong>NEXUSe2e from 4.x to 4.x</strong></li>
                    </ol>
                </div><!-- end breadcrumb -->
                <div class="text" role="article">
                    <h1>
                        NEXUSe2e from 4.x to 4.x
                    </h1>

                    <div class="text-section">
                        <p><strong>Upgrading NEXUSe2e from 4.x to 4.x</strong></p>

                        <p>In order to benefit from bug fixes and improvements, we recommend that you upgrade your
                            NEXUSe2e instances to the latest version regularly. Please follow the instructions on this
                            page to upgrade an existing NEXUSe2e 4.x installation. For older versions, please <a
                                    href="http://nexuse2e.org/NEXUSe2e/Services/Contact.html"
                                    style="text-decoration: none;">contact the NEXUSe2e support</a>.</p>

                        <p>This documentation targets the Apache Tomcat Servlet container. If you use another Servlet
                            container to run NEXUSe2e, some details may differ from what is described here.</p>

                        <p><strong>Preparing for upgrade</strong></p>

                        <p>Go to the <a href="http://nexuse2e.org/NEXUSe2e/Downloads.html"
                                        style="text-decoration: none;">Download section</a> to get the latest version in
                            WAR (Web ARchive) file format.</p>

                        <p>Find your current NEXUSe2e web application root directory. If you are using Apache Tomcat,
                            this will be<em>&lt;TOMCAT_HOME&gt;/webapps/NEXUSe2e/</em>. If you used the NEXUSe2e
                            installer for Windows,<em>&lt;TOMCAT_HOME&gt;</em> is the <em>tomcat</em> folder located in
                            your NEXUSe2e installation folder, otherwise it is the folder where you installed Tomcat.
                        </p>

                        <p>Create a backup of your NEXUSe2e database in order to be able to roll-back to the older
                            version if any problems occur. If you use the internal derby database for NEXUSe2e, copy all
                            files located in <em>&lt;NEXUSe2e Web app root&gt;/WEB-INF/config/database/derby</em> to a
                            backup location. Otherwise, use the provided database tools or ask your DBA to create a
                            database backup.</p>

                        <p>If you are using the ant deployment script for NEXUSe2e upgrades, please refer to the
                            deployment documentation provided when NEXUSe2e was first installed. In this case, you can
                            skip the following steps and go directly to section <em>Installing the new version</em>.</p>

                        <p>Copy the NEXUSe2e web application configuration located in <em>&lt;NEXUSe2e Web app root&gt;/WEB-INF/config</em>
                            to a backup location. This configuration includes database and logging setup, the machine
                            name and optional clustering properties. We recommend that you copy all files from the
                            config directory.</p>

                        <p>If your NEXUSe2e installation uses custom libraries, make sure that you have a copy of them
                            somewhere. If you know the custom library name(s), go to the <em>&lt;NEXUSe2e Web app root&gt;/WEB-INF/lib</em>
                            directory and copy them to a backup directory. In case you are not sure if your NEXUSe2e
                            installation uses custom libraries, please contact NEXUSe2e support.</p>

                        <p>As last step, create a backup of your existing NEXUSe2e WAR file. Go to the Servlet container&#39;s
                            web applications directory (<em>&lt;TOMCAT_HOME&gt;/webapps</em>) and copy the NEXUSe2e.war
                            file to a backup location. This allows you to get back to your old NEXUSe2e version if the
                            upgrade causes problems for some reason.</p>

                        <p>You are now prepared to start with the NEXUSe2e upgrade</p>

                        <p><strong>Installing the new version</strong></p>

                        <p>In the Servlet container&#39;s web applications directory
                            (<em>&lt;TOMCAT_HOME&gt;/webapps</em>), replace the NEXUSe2e.war file with the .war file you
                            downloaded. In order to do this, you need to strip the version number from the downloaded
                            WAR file (e.g., rename NEXUSe2e_4.5.1.war as NEXUSe2e.war).</p>

                        <p>Tomcat will automatically deploy the new WAR file. After a while, the new NEXUSe2e version
                            should have started. You can verify this by checking the version and build number on the
                            NEXUSe2e web UI.</p>

                        <p>When the new version is up and running, stop the NEXUSe2e service (on Windows, go to System
                            Management &gt; Services and find the NEXUSe2e service).</p>

                        <p>Now, the NEXUSe2e version will be configured with the same parameters as the old version. To
                            do this, go to the configuration directory (&lt;NEXUSe2e Web app root&gt;/WEB-INF/config/)
                            and replace the following files from your configuration backup location:</p>

                        <ul>
                            <li>bean.properties</li>
                            <li>database.properties</li>
                            <li>log4j.properties</li>
                            <li>machine_name.txt</li>
                            <li>clustering.xml (if present in your backup)</li>
                        </ul>

                        <p>If you use the internal NEXUSe2e derby database, you also need to copy the database backup to
                            the <em>database</em> sub-directory.</p>

                        <p><strong>Complete and verify upgrade</strong></p>

                        <p>After following the above steps, your new version is ready to go online. You can now start
                            the NEXUSe2e service. To make sure everything is OK, we recommend that you check the Tomcat
                            log files after startup.</p>

                        <p><strong>Important</strong></p>

                        <p>Some version upgrades require additional steps (e.g., database adjustments). Please check
                            NEXUSe2e version release notes for additional information or <a
                                    href="http://nexuse2e.org/NEXUSe2e/Services/Contact.html"
                                    style="text-decoration: none;">contact the NEXUSe2e support team</a>.</p>
                    </div>
                </div><!-- end text -->
            </div><!-- end main -->

            <div id="extras" role="complementary">
            </div>
        </div><!-- end wrapper-3 -->

        <div id="promos">
        </div><!-- end promos -->
    </div><!-- end wrapper-2 -->

    <div id="site-info">
        <div id="site-info-box">
            <div>
                <ul>
                    <li>
                        <a href="../../Services/Contact.html">Contact</a>
                    </li>

                    <li>
                        <a href="../../Services/Legal-Notices-Impressum.html">Legal Notices / Impressum</a>
                    </li>
                </ul>
            </div>

            <p id="copyright"></p>

            <!-- <p id="copyright-magnolia"><span>Powered by</span> <a href="http://www.magnolia-cms.com"><strong>Magnolia</strong> - Open-Source Java Content Management</a></p> -->
        </div><!-- end site-info-box -->
    </div><!-- end site-info -->
</div><!-- end wrapper -->

</body>
</html>
