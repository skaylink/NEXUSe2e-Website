<!DOCTYPE html>

<html xml:lang="en" lang="en" class="no-js">

<head>
    <!--[if IE]>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=IE7"/>
    <![endif]-->
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <link rel="shortcut icon" type="image/x-icon" href="../../../resources/templating-kit/themes/NEXUSe2e-website/img/logo.png">

    <meta name="keywords" content="NEXUSe2e - comet"/>
    <meta name="description" content=""/>
    <meta name="author" content=""/>
    <meta name="robots" content="all"/>

    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>

    <meta name="generator" content="Powered by Magnolia - intuitive Content Management Software"/>

    <title>Home - NEXUSe2e - comet</title>

    <link rel="stylesheet" type="text/css"
          href="../../../resources/templating-kit/themes/NEXUSe2e-website/css/nexuse2e.css" media=""/>

    <!--[if ! lte IE 6]><!-->
    <script>
        //global information for the javascripts
        window.magnoliaFrontendData = {
            themePath: "/resources/templating-kit/",
            contextPath: "",
            isEdit: false,
            texts: {
                lightbox: {
                    close: "close lightbox",
                    next: "next picture"
                },
                close: "close"
            },
            cfg: {}
        };
    </script>
    <script src="../../../resources/templating-kit/themes/NEXUSe2e-website/js/jquery-1.10.2.min.js"
            type="text/javascript"></script>
    <script src="../../../resources/templating-kit/themes/NEXUSe2e-website/js/nexuse2e.js"
            type="text/javascript"></script>
    <!--<![endif]-->
</head>

<body id="article">

<div id="wrapper">
    <div id="branding" role="banner">
        <div id="branding-box">
            <p class="skip">
                <a href="NEXUSe2e---COMET.html#main">Main Content</a>
            </p>

            <div id="logo">
                <a href="../../../Home.html" title="Homepage">
                    <strong>Home</strong>

                    <span></span>
                </a>
            </div><!-- end logo -->

            <div id="nav-meta">
                <ul>
                </ul>
            </div><!-- end nav-meta -->
        </div><!-- end branding-box -->
    </div><!-- end branding -->

    <div id="nav-global" role="navigation">
        <div id="nav-global-box">
            <h6>Navigation</h6>
            <ul>
                <li id="nav-sec-news">
                    <a href="../../Home.html"><span>Home</span></a>
                </li>

                <li id="nav-sec-product">
                    <a href="../../Product.html"><span>Product</span></a>
                </li>

                <li id="nav-sec-service">
                    <a href="../../Service.html"><span>Service</span></a>
                </li>

                <li id="nav-sec-documentation" class="on">
                    <a href="../../Documentation.html"> <span><em>You are here: </em>Documentation</span></a>
                </li>

                <li id="nav-sec-downloads">
                    <a href="../../Downloads.html"><span>Downloads</span></a>
                </li>
            </ul>
        </div><!-- end nav-global-box -->
    </div><!-- end nav-global -->

    <div id="wrapper-2">
        <div id="nav">
            <div id="nav-box" role="navigation">
                <h6>Sub-navigation</h6>
                <ul>
                    <li>
                        <a href="../Installation.html">Installation</a>
                    </li>

                    <li>
                        <a href="../Upgrade.html">Upgrade</a>
                    </li>

                    <li>
                        <a href="../Configuration.html">Configuration</a>
                    </li>

                    <li>
                        <a href="../Security.html">Security</a>
                    </li>

                    <li class="open">
                        <a href="../Messaging.html">Messaging</a>
                        <ul>
                            <li>
                                <a href="First-Steps-In-Messaging.html">First Steps in Messaging</a>
                            </li>

                            <li>
                                <a href="Testing-Connectivity.html">Testing Connectivity</a>
                            </li>

                            <li>
                                <a href="Mime-Type.html">Unconfigured Content Type</a>
                            </li>

                            <li>
                                <a href="Sending-http-Plain-Message-to-NEXUSe2e.html">HTTP Plain Messaging</a>
                            </li>

                            <li>
                                <a href="Backend-Web-Service-Integration.html">Backend Web Service Integration</a>
                            </li>

                            <li>
                                <a href="Conversation-Purging.html">Conversation/Message Purging</a>
                            </li>

                            <li class="on">
                                <strong> <span><em>You are here:</em>NEXUSe2e - comet</span> </strong>
                            </li>
                        </ul>
                    </li>
                </ul>
            </div><!-- end nav-box -->
        </div><!-- end nav -->

        <div id="wrapper-3">
            <div id="main" role="main">
                <div id="breadcrumb">
                    <h5>You are here:</h5>
                    <ol>
                        <li><a href="../../../Home.html">Home</a></li>
                        <li><a href="../../Documentation.html">Documentation</a></li>
                        <li><a href="../Messaging.html">Messaging</a></li>
                        <li><strong>NEXUSe2e - comet</strong></li>
                    </ol>
                </div><!-- end breadcrumb -->
                <div class="text" role="article">
                    <h1>
                        NEXUSe2e - comet
                    </h1>

                    <div class="text-section">
                        <h2>General Usage Notes</h2>

                        <p>The purpose of this utility is to provide a simple way to send test messages to your NEXUSe2e
                            instances.</p>

                        <p>Every parameter has a standard value which is taken from the default partner of a NEXUSe2e
                            installation. These values will be used if the parameter is not delivered by the initial
                            tool invocation. SSL will not work by default it is not enabled out of the box for the
                            default partner - see below for further information.</p>

                        <p>If given no parameters at all, comet will show the parameter help, hence you will need to
                            provide at least one parameter even if all defaults would work for your installation.</p>
                    </div>

                    <div class="text-section">
                        <h2>Acknowledgements and Messaging</h2>

                        <p><strong>Reliable Messaging</strong></p>

                        <p>comet does not support reliable messaging yet and cannot accept acknowledgements NEXUSe2e
                            sends in reply to a test message.</p>

                        <p>What does this mean for my test?<br/>
                            If reliable messaging is activated, an acknowledgement will be send to the connection
                            configured for the used partner. In case of default partner &quot;Xioma&quot; it will be
                            send to <em>http://localhost:8080/NEXUSe2e</em> by default. Be careful while testing with a
                            custom partner configuration. NEXUSe2e could send an acknowledgement - generated by a
                            message from comet - to a live or test system to the used partner.</p>

                        <p>Be careful while testing with an existing partner configured by your own, NEXUSe2e could send
                            an acknowledgement - generated by a message from comet - to a live or test system to the
                            used partner.</p>

                        <p>If you send test messages to a NEXUSe2e with reliable messaging enabled you&#39;ll find
                            following log entries in your transaction log or tomcat log files.</p>

                        <p>These log entries are from a Tomcat with NEXUSe2e deployed.<br/>
                            &nbsp;&nbsp; &nbsp;The message comet has send was successfully received by NEXUSe2e:</p>
                    </div>

                    <blockquote>
                        <p><em>[INFO ] 2014-10-20 13:23:39,148
                            org.nexuse2e.messaging.FrontendInboundDispatcher.processMessage(FrontendInboundDispatcher.java:173)
                            - d7a640e0-189b-40bc-a17b-0a4d0179d6ca/6cf986f3-dd87-4be5-a3fe-8300a29c31cc(GenericFile-&gt;SendFile):
                            Received normal (6cf986f3-dd87-4be5-a3fe-8300a29c31cc) from Xioma for
                            GenericFile/SendFile</em></p>
                    </blockquote>

                    <div class="text-section">
                        <p>&nbsp;&nbsp;&nbsp; NEXUSe2e tries to send an acknowledgement to the connection of the
                            configured partner:</p>
                    </div>

                    <blockquote>
                        <p><em>[INFO ] 2014-10-20 13:23:39,220
                            org.nexuse2e.messaging.FrontendOutboundDispatcher.processMessage(FrontendOutboundDispatcher.java:65)
                            - d7a640e0-189b-40bc-a17b-0a4d0179d6ca/6effb26a-6172-4f85-a8fc-f59496757f84 (GenericFile-&gt;SendFile):
                            Sending Acknowledgement message (6effb26a-6172-4f85-a8fc-f59496757f84) to Xioma for
                            GenericFile/SendFile</em></p>
                    </blockquote>

                    <div class="text-section">
                        <p>&nbsp;&nbsp;&nbsp; The acknowledge couldn&#39;t be send because the connection didn&#39;t
                            exist or wasn&#39;t reachable:</p>
                    </div>

                    <blockquote>
                        <p><em>[WARN ] 2014-10-20 13:23:43,239
                            org.nexuse2e.service.http.HttpSenderService.sendMessage(HttpSenderService.java:302) -
                            d7a640e0-189b-40bc-a17b-0a4d0179d6ca/6effb26a-6172-4f85-a8fc-f59496757f84 (GenericFile-&gt;SendFile):
                            Message submission failed: java.net.Connect Exception: Connection refused: connect
                            java.net.ConnectException: Connection refused: connect</em></p>
                    </blockquote>

                    <div class="text-section">
                        <p>Despite the warning or error messages in the log files, this test was a success as you can
                            see in the first log entry shown. This NEXUSe2e instance was able to receive a message sent
                            by comet.</p>

                        <p><strong>Success Message from comet</strong></p>

                        <p>If the message was send successfully - which does not necessarily mean it was processed by
                            NEXUSe2e - it will look like this in your command line:</p>
                    </div>

                    <blockquote>
                        <p><em>[DEBUG] 2014-10-20 14:13:13,038
                            org.nexuse2e.comet.ui.ClientWorker.post(ClientWorker.java:157) - HTTP/1.1 200 OK</em></p>
                    </blockquote>

                    <div class="text-section">
                        <p>Above this message you&#39;ll see the content related information.</p>
                    </div>

                    <div class="text-section">
                        <h2>Parameter description</h2>

                        <table border="0" cellpadding="1" cellspacing="1" style="height:251px; width:900px">
                            <tbody>
                            <tr>
                                <td>-a,--action &lt;Action&gt;</td>
                                <td>(Optional) Set Action Identity. Default: (SendFile)</td>
                            </tr>
                            <tr>
                                <td>-c,--choreography &lt;Choreography&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
                                <td>(Optional) Set Choreography Identity. Default: (GenericFile)</td>
                            </tr>
                            <tr>
                                <td>-f,--file &lt;File&gt;</td>
                                <td>(Optional) Path of Payloadfile. comet ships with an internal payload for test purpose.</td>
                            </tr>
                            <tr>
                                <td>-h,--help</td>
                                <td>Shows Parameter Description</td>
                            </tr>
                            <tr>
                                <td>-ha,--handler [ebxml20|httpplain]</td>
                                <td>(Optional) Set Handler to use - ebXML2.0 and httpplain are supported. Default: (ebxml20)</td>
                            </tr>
                            <tr>
                                <td>-r,--receiver &lt;Receiver&gt;</td>
                                <td>(Optional) Set NEXUSe2e Server Identity. Default: (localhost)</td>
                            </tr>
                            <tr>
                                <td>-p,--partner &lt;Partner&gt;</td>
                                <td>(Optional) Set Remote Participant (comet) Identity. Default: (Xioma)</td>
                            </tr>
                            <tr>
                                <td>-u,--url &lt;NEXUSe2e Server URL&gt;</td>
                                <td>(Optional) Set Server URL. Default: (http://localhost:8080/NEXUSe2e/)</td>
                            </tr>
                            <tr>
                                <td>&nbsp;</td>
                                <td>&nbsp;</td>
                            </tr>
                            <tr>
                                <td><strong>Parameters especially used for SSL Messaging</strong></td>
                                <td>&nbsp;</td>
                            </tr>
                            <tr>
                                <td>&nbsp;</td>
                                <td>&nbsp;</td>
                            </tr>
                            <tr>
                                <td>-kp,--keystorepassword &lt;Keystorepassword&gt;</td>
                                <td>(Optional) Password for custom Keystorefile.</td>
                            </tr>
                            <tr>
                                <td>-ks,--keystore &lt;Keystore&gt;</td>
                                <td>(Optional) Path to custom Keystorefile.</td>
                            </tr>
                            <tr>
                                <td>-tp,--truststorepassword &lt;Truststorepassword&gt;</td>
                                <td>(Optional) Password to custom Truststorefile.</td>
                            </tr>
                            <tr>
                                <td>-ts,--truststore &lt;Truststore&gt;</td>
                                <td>(Optional) Path to custom Truststorefile.</td>
                            </tr>
                            <tr>
                                <td>-dc,--displaycert</td>
                                <td>(Optional) Will display the servers certificate chain. No Parameter needed.</td>
                            </tr>
                            <tr>
                                <td>-pw,--privatepassword</td>
                                <td>Password for private key. Mandatory if custom keystore-file and displaycert is used.</td>
                            </tr>
                            </tbody>
                        </table>
                    </div>

                    <div class="text-section">
                        <h2>Parameter Example</h2>

                        <p>Provide NEXUSe2e URL only:</p>
                    </div>

                    <blockquote>
                        <p><em>java -jar nexuse2e-comet-1.1.jar -u http://192.168.1.1:8080/NEXUSe2e/</em></p>
                    </blockquote>

                    <div class="text-section">
                        <p>If there are blanks in the directory path please add quotes to the string:</p>
                    </div>

                    <blockquote>
                        <p><em>java -jar nexuse2e-comet-1.1.jar -f &quot;c:\temp files\message.txt&quot;</em></p>
                    </blockquote>

                    <div class="text-section">
                        <p>All important message parameters:</p>
                    </div>

                    <blockquote>
                        <p><em>java -jar nexuse2e-comet-1.1.jar -p ExamplePartner -c genericChoreo -a sendAction -u
                            http:\\192.168.2.1\ExampleNEXUSe2e\ -ha ebxml20 -f c:\temp\message.txt</em></p>
                    </blockquote>

                    <div class="text-section">
                        <h2>SSL Messaging</h2>

                        <p>If you want to test SSL messaging with the default certificates you need to import the
                            nexuse2e_comet_public.cer for the partner in your NEXUSe2e instance<br/>
                            that you want to test with. You should also add the nexuse2e_server.jks to your Tomcat
                            configuration file and enable a SSL connector.<br/>
                            The keystores will be loaded in comet despite using SSL or not, so you do not need any
                            additional parameter. These inbuilt certificates are only meant for a rough test or playing
                            around with the function.</p>

                        <p>To use your own keystore/truststore make sure they are delivered as jks format to comet.</p>

                        <p>Tomcat Server Config example for SSL Connector:</p>
                    </div>

                    <blockquote>
                        <p><em>&nbsp;&nbsp;&nbsp; &lt;Connector port=&quot;8443&quot; protocol=&quot;org.apache.coyote.http11.Http11Protocol&quot;<br/>
                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                            maxThreads=&quot;150&quot; SSLEnabled=&quot;true&quot; scheme=&quot;https&quot; secure=&quot;true&quot;<br/>
                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                            clientAuth=&quot;true&quot; sslProtocol=&quot;TLS&quot;<br/>
                            &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; keystoreFile=&quot;C:\apache-tomcat\conf\nexuse2e_server.jks&quot;<br/>
                            &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; keystorePass=&quot;nexuse2e&quot;
                            keystoreType=&quot;jks&quot;<br/>
                            &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; truststoreFile=&quot;C:\apache-tomcat\conf\nexuse2e_server.jks&quot;<br/>
                            &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; truststoreType=&quot;JKS&quot;
                            truststorePass=&quot;nexuse2e&quot;<br/>
                            &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; /&gt;</em></p>
                    </blockquote>

                    <div class="text-section">
                        <p><strong>Show Server Certificate Chain</strong></p>

                        <p>If you want to verify the certification chain of your NEXUSe2e Tomcat server you can use
                            comets -dc &quot;displaycert&quot; parameter. This parameter does not require an argument
                            but needs the additional parameter -pw &quot;Privatepassword&quot; in case you use your own
                            keystore-file.</p>

                        <p><strong>Example:</strong></p>
                    </div>

                    <blockquote>
                        <p><em>java -jar nexuse2e-comet1.1.jar -u https://127.0.0.1:8443/Nexuse2e -ks &quot;c:\myKestore.jks&quot;
                            -kp &quot;myKestorePassword&quot; -dc -pw &quot;PrivateCertPassword&quot;</em></p>
                    </blockquote>
                </div><!-- end text -->
            </div><!-- end main -->

            <div id="extras" role="complementary">
            </div>

        </div><!-- end wrapper-3 -->

        <div id="promos">
        </div><!-- end promos -->
    </div><!-- end wrapper-2 -->

    <div id="site-info">
        <div id="site-info-box">
            <div>
                <ul>
                    <li>
                        <a href="../../Services/Contact.html">Contact</a>
                    </li>

                    <li>
                        <a href="../../Services/Legal-Notices-Impressum.html">Legal Notices / Impressum</a>
                    </li>
                </ul>
            </div>

            <p id="copyright"></p>

            <!-- <p id="copyright-magnolia"><span>Powered by</span> <a href="http://www.magnolia-cms.com"><strong>Magnolia</strong> - Simple Open-Source CMS</a></p> -->
        </div><!-- end site-info-box -->
    </div><!-- end site-info -->
</div><!-- end wrapper -->

</body>
</html>
