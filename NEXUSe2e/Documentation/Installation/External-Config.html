<!DOCTYPE html>

<html xml:lang="en" lang="en" class="no-js">

<head>
    <!--[if IE]>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=IE7"/>
    <![endif]-->
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <link rel="shortcut icon" type="image/x-icon" href="../../../resources/templating-kit/themes/NEXUSe2e-website/img/logo.png">

    <meta name="keywords" content="External Configuration Folder"/>
    <meta name="description" content=""/>
    <meta name="author" content=""/>
    <meta name="robots" content="all"/>

    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>

    <meta name="generator" content="Powered by Magnolia - based on Java Content Repository"/>

    <title>Home - External Configuration Folder</title>

    <link rel="stylesheet" type="text/css"
          href="../../../resources/templating-kit/themes/NEXUSe2e-website/css/nexuse2e.css" media=""/>

    <!--[if ! lte IE 6]><!-->
    <script>
        //global information for the javascripts
        window.magnoliaFrontendData = {
            themePath: "/resources/templating-kit/",
            contextPath: "",
            isEdit: false,
            texts: {
                lightbox: {
                    close: "close lightbox",
                    next: "next picture"
                },
                close: "close"
            },
            cfg: {}
        };
    </script>
    <script src="../../../resources/templating-kit/themes/NEXUSe2e-website/js/jquery-1.10.2.min.js"
            type="text/javascript"></script>
    <script src="../../../resources/templating-kit/themes/NEXUSe2e-website/js/nexuse2e.js"
            type="text/javascript"></script>
    <!--<![endif]-->
</head>

<body id="article">

<div id="wrapper">
    <div id="branding" role="banner">
        <div id="branding-box">
            <p class="skip">
                <a href="External-Config.html#main">Main Content</a>
            </p>

            <div id="logo">
                <a href="../../Home.html" title="Homepage">
                    <strong>Home</strong>

                    <span></span>
                </a>
            </div><!-- end logo -->

            <div id="nav-meta">
                <ul>
                </ul>
            </div><!-- end nav-meta -->
        </div><!-- end branding-box -->
    </div><!-- end branding -->

    <div id="nav-global" role="navigation">
        <div id="nav-global-box">
            <h6>Navigation</h6>
            <ul>
                <li id="nav-sec-news">
                    <a href="../../Home.html"><span>Home</span></a>
                </li>


                <li id="nav-sec-product">
                    <a href="../../Product.html"><span>Product</span></a>
                </li>


                <li id="nav-sec-service">
                    <a href="../../Service.html"><span>Service</span></a>
                </li>


                <li id="nav-sec-documentation" class="on">
                    <a href="../../Documentation.html"> <span><em>You are here: </em>Documentation</span></a>
                </li>

                <li id="nav-sec-downloads">
                    <a href="../../Downloads.html"><span>Downloads</span></a>
                </li>
            </ul>
        </div><!-- end nav-global-box -->
    </div><!-- end nav-global -->

    <div id="wrapper-2">

        <div id="nav">
            <div id="nav-box" role="navigation">
                <h6>Sub-navigation</h6>
                <ul>
                    <li class="open">
                        <a href="../Installation.html">Installation</a>
                        <ul>
                            <li>
                                <a href="System-Requirements.html">System Requirements</a>
                            </li>

                            <li>
                                <a href="Setting-Up-NEXUSe2e.html">Setting up NEXUSe2e</a>
                            </li>

                            <li>
                                <a href="Setting-up-NEXUSe2e-for-mobile-admin-App.html">Setting up NEXUSe2e for Mobile
                                    Admin App</a>
                            </li>

                            <li class="on">
                                <strong> <span><em>You are here:</em>External Configuration Folder</span> </strong>
                            </li>
                        </ul>
                    </li>

                    <li>
                        <a href="../Upgrade.html">Upgrade</a>
                    </li>

                    <li>
                        <a href="../Configuration.html">Configuration</a>
                    </li>

                    <li>
                        <a href="../Security.html">Security</a>
                    </li>

                    <li>
                        <a href="../Messaging.html">Messaging</a>
                    </li>
                </ul>
            </div><!-- end nav-box -->
        </div><!-- end nav -->

        <div id="wrapper-3">
            <div id="main" role="main">
                <div id="breadcrumb">
                    <h5>You are here:</h5>
                    <ol>
                        <li><a href="../../../NEXUSe2e.html">Home</a></li>
                        <li><a href="../../Documentation.html">Documentation</a></li>
                        <li><a href="../Installation.html">Installation</a></li>
                        <li><strong>External Configuration Folder</strong></li>
                    </ol>
                </div><!-- end breadcrumb -->
                <div class="text" role="article">
                    <h1>
                        External Configuration Folder
                    </h1>

                    <div class="text-section">
                        <p>As of NEXUSe2e 5.2.0, you can provide an external set of configuration files for your
                            NEXUSe2e instance, allowing you to upgrade or reinstall without having to re-configure
                            everything.</p>

                        <p>To get started with this, make a copy of the config-folder under &lt;tomcat-location&gt;/webapps/NEXUSe2e/WEB-INF/
                            . Place this copy somewhere convenient, you can remove all files except database.properties,
                            bean.properties and machine_name.txt from it if you want to (there is also support for the
                            logger-configuration, see below).</p>

                        <p>If you have just freshly installed NEXUSe2e, you will now want to make your configuration
                            changes, specifically your database configuration in database.properties and editing the
                            name of the instance in machine_name.txt, in this folder.</p>

                        <p>Then to get NEXUSe2e to use your external configuration, provide a VM option named
                            externalconfig which points to the folder holding your external configuration files.<br/>
                            How you do this varies a bit depending on how you installed your instance:</p>

                        <ul>
                            <li>If you have NEXUSe2e installed as a service, you need to go into the configuration
                                program (located under \bin\ in your tomcat-folder, called NEXUSe2ew.exe if you used our
                                installer), navigate to the tab &#39;Java&#39;, and under &#39;Java Options&#39; add an
                                entry for the parameter.
                            </li>
                            <li>If you start your instance from the command line (or via a script) you need to provide
                                or edit your setenv.bat or setenv.sh file (located under \bin\ in your tomcat-folder).
                                Windows uses the .bat file. Add the parameter here.
                            </li>
                        </ul>

                        <p><strong>Example</strong>:<br/>
                            (NEXUSe2e was installed using our installer)</p>

                        <ol>
                            <li>Files placed in C:\Example\NEXUSe2e\</li>
                            <li>Navigate to C:\Program Files\NEXUSe2e\tomcat\bin\, launch NEXUSe2ew.exe .</li>
                            <li>Add &#39;-Dexternalconfig=C:\\Example\\NEXUSe2e&#39; under Java Options.</li>
                            <li>Now take your database-driver (if you need a specific one) and put it into the
                                C:\Program Files\NEXUSe2e\tomcat\lib\ folder (the specific path might vary depending on
                                where and how you deployed NEXUSe2e - In general, you need this file to be available on
                                the classpath, usually via the lib-folder of your webserver of choice). This way it is
                                not part of the actual deployed NEXUSe2e, but of the webserver, and hence will not be
                                deleted when you upgrade your NEXUSe2e installation. Specifically for this example,
                                check that it in the tomcat-lib-folder as given above, <strong>not </strong>in
                                C:\Program Files\NEXUSe2e\tomcat\webapps\NEXUSe2e\WEB-INF\lib\ .
                            </li>
                        </ol>

                        <p><strong>Logging configuration</strong></p>

                        <p>To externalize the logging configuration (this is handled slightly differently as this is a
                            library we include), you need to make the following changes:</p>

                        <ol>
                            <li>Place a copy of the log4j.properties file from the configuration folder in an external
                                folder (see above, this is done exactly the same as for the other configuration files,
                                and we advice to simply use the same external folder).
                            </li>
                            <li>Navigate to C:\Program Files\NEXUSe2e\tomcat\bin\, launch NEXUSe2ew.exe .</li>
                            <li>Add &#39;-Dexternalconfig=file:/C:/Example/NEXUSe2e/log4j.properties&#39; under Java
                                Options.
                            </li>
                        </ol>
                    </div>
                </div><!-- end text -->
            </div><!-- end main -->

            <div id="extras" role="complementary">
            </div>

        </div><!-- end wrapper-3 -->

        <div id="promos">
        </div><!-- end promos -->
    </div><!-- end wrapper-2 -->


    <div id="site-info">
        <div id="site-info-box">
            <div>
                <ul>
                    <li>
                        <a href="../../Services/Contact.html">Contact</a>
                    </li>

                    <li>
                        <a href="../../Services/Legal-Notices-Impressum.html">Legal Notices / Impressum</a>
                    </li>
                </ul>
            </div>

            <p id="copyright"></p>

            <!-- <p id="copyright-magnolia"><span>Powered by</span> <a href="http://www.magnolia-cms.com"><strong>Magnolia</strong> - Intuitive Opensource CMS</a></p> -->
        </div><!-- end site-info-box -->
    </div><!-- end site-info -->
</div><!-- end wrapper -->

</body>
</html>
